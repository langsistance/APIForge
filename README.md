# API拦截器应用

一个基于Electron的四栏布局应用，主要功能是拦截网页中的API请求并将其封装成工具供AI使用。

## 功能特性

### 四栏布局
1. **左侧第一栏 - 知识库**: 显示文档和资料
2. **第二栏 - AI聊天**: 聊天界面和可用工具列表
3. **第三栏 - 网页浏览器**: 主要功能区域，用于加载网页和拦截API
4. **右侧第四栏 - 工具栏**: 显示拦截到的API和生成的工具

### 核心功能
- **网页加载**: 在第三栏输入网址，点击"加载"按钮浏览网页
- **API拦截**: 点击"开始拦截"按钮，自动捕获网页中的所有HTTP请求
- **工具生成**: 点击拦截到的API条目，自动生成可重用的工具
- **工具管理**: 导出/导入工具，在聊天中调用工具

## 使用方法

### 1. 启动应用
```bash
npm start
```

### 2. 拦截API的步骤
1. 在第三栏的地址栏输入目标网站URL
2. 点击"加载"按钮加载网页  
3. 点击"开始拦截"按钮开始监听API请求
4. 在网页中进行操作触发API调用
5. 在第四栏查看拦截到的API列表
6. 点击API条目生成对应的工具

### 3. 使用生成的工具
1. 生成的工具会显示在第二栏的"可用工具"列表中
2. 在聊天框中可以引用这些工具
3. AI可以调用这些工具来执行API请求

### 4. 工具管理
- 点击"导出工具"按钮将工具保存为JSON文件
- 点击"导入工具"按钮加载之前保存的工具
- 点击"清空列表"按钮清除所有拦截的API

## 技术实现

### API拦截机制
- 使用Electron的webRequest API拦截所有HTTP请求
- 监听xhr和fetch类型的请求
- 提取请求的URL、方法、参数等信息

### 工具封装
- 自动解析API参数（URL参数和请求体）
- 生成包含请求信息的工具描述
- 支持工具的序列化和反序列化

### 示例使用场景
1. 访问 `https://jsonplaceholder.typicode.com` 测试网站
2. 开始拦截后进行各种操作
3. 拦截到的API会包括：
   - GET /posts
   - POST /posts  
   - PUT /posts/1
   - DELETE /posts/1

## 开发模式
```bash
npm run dev
```
开发模式会自动打开DevTools便于调试。

## 项目结构
```
├── main.js          # Electron主进程
├── index.html       # 应用界面
├── style.css        # 样式文件  
├── renderer.js      # 渲染进程逻辑
├── package.json     # 项目配置
└── README.md        # 说明文档
```
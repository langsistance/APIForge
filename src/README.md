# WebSight é¡¹ç›®ç»“æ„

## ğŸ“ ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ core/                    # æ ¸å¿ƒåº”ç”¨å±‚
â”‚   â””â”€â”€ app.js              # ä¸»åº”ç”¨ç±»ï¼Œåè°ƒå„ä¸ªæ¨¡å—
â”œâ”€â”€ domains/                # ä¸šåŠ¡åŸŸæ¨¡å—
â”‚   â”œâ”€â”€ browser/            # æµè§ˆå™¨ç›¸å…³åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ browser-manager.js
â”‚   â”œâ”€â”€ api/               # APIç®¡ç†åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ api-manager.js
â”‚   â”œâ”€â”€ knowledge/         # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”‚   â””â”€â”€ knowledge-manager.js
â”‚   â””â”€â”€ chat/              # èŠå¤©åŠŸèƒ½
â”‚       â””â”€â”€ chat-manager.js
â”œâ”€â”€ ui/                    # ç”¨æˆ·ç•Œé¢å±‚
â”‚   â””â”€â”€ ui-manager.js      # UIç»„ä»¶å’Œäº¤äº’ç®¡ç†
â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â””â”€â”€ storage-util.js    # æœ¬åœ°å­˜å‚¨ç®¡ç†
â”œâ”€â”€ main.js               # åº”ç”¨å…¥å£æ–‡ä»¶
â””â”€â”€ README.md             # é¡¹ç›®ç»“æ„è¯´æ˜
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### åˆ†å±‚æ¶æ„

1. **å…¥å£å±‚ (Entry Layer)**
   - `main.js`: åº”ç”¨åˆå§‹åŒ–å’Œå…¨å±€é”™è¯¯å¤„ç†

2. **æ ¸å¿ƒå±‚ (Core Layer)**
   - `app.js`: ä¸»åº”ç”¨ç±»ï¼Œè´Ÿè´£åè°ƒå„ä¸ªåŸŸæ¨¡å—

3. **ä¸šåŠ¡åŸŸå±‚ (Domain Layer)**
   - `browser/`: ç½‘é¡µæµè§ˆå’ŒAPIæ‹¦æˆª
   - `api/`: APIç®¡ç†å’Œå·¥å…·ç”Ÿæˆ
   - `knowledge/`: çŸ¥è¯†åº“åˆ›å»ºå’Œæœç´¢
   - `chat/`: æ™ºèƒ½èŠå¤©å’ŒæŸ¥è¯¢å¤„ç†

4. **UIå±‚ (UI Layer)**
   - `ui-manager.js`: é€šç”¨UIç»„ä»¶å’Œäº¤äº’

5. **å·¥å…·å±‚ (Utils Layer)**
   - `storage-util.js`: æ•°æ®æŒä¹…åŒ–

### æ¨¡å—ä¾èµ–å…³ç³»

```
main.js
  â””â”€â”€ app.js
      â”œâ”€â”€ ui-manager.js
      â”œâ”€â”€ storage-util.js
      â”œâ”€â”€ browser-manager.js
      â”œâ”€â”€ api-manager.js
      â”œâ”€â”€ knowledge-manager.js (ä¾èµ– api-manager)
      â””â”€â”€ chat-manager.js (ä¾èµ– api-manager, knowledge-manager)
```

## ğŸ”„ æ•°æ®æµ

1. **APIæ‹¦æˆªæµç¨‹**:
   ```
   BrowserManager â†’ æ‹¦æˆªAPI â†’ APIManager â†’ ç”Ÿæˆå·¥å…· â†’ KnowledgeManager
   ```

2. **çŸ¥è¯†åˆ›å»ºæµç¨‹**:
   ```
   ç”¨æˆ·é€‰æ‹©å·¥å…· â†’ KnowledgeManager â†’ è°ƒç”¨æœåŠ¡å™¨API â†’ æœ¬åœ°å­˜å‚¨
   ```

3. **èŠå¤©æŸ¥è¯¢æµç¨‹**:
   ```
   ç”¨æˆ·æé—® â†’ ChatManager â†’ æŸ¥æ‰¾å·¥å…· â†’ è°ƒç”¨API â†’ è½®è¯¢ç»“æœ â†’ æ˜¾ç¤ºå›ç­”
   ```

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**: æ¯ä¸ªç®¡ç†å™¨åªè´Ÿè´£è‡ªå·±çš„ä¸šåŠ¡åŸŸ
2. **ä¾èµ–æ³¨å…¥**: é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–ï¼Œä¾¿äºæµ‹è¯•
3. **äº‹ä»¶é©±åŠ¨**: æ¨¡å—é—´é€šè¿‡äº‹ä»¶é€šä¿¡ï¼Œé™ä½è€¦åˆ
4. **æ•°æ®ä¸€è‡´æ€§**: ç»Ÿä¸€çš„æ•°æ®ä¿å­˜å’ŒåŠ è½½æœºåˆ¶
5. **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ

## ğŸ“ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„ä¸šåŠ¡åŸŸ

1. åœ¨ `src/domains/` ä¸‹åˆ›å»ºæ–°ç›®å½•
2. åˆ›å»ºå¯¹åº”çš„ç®¡ç†å™¨ç±»
3. åœ¨ `app.js` ä¸­åˆå§‹åŒ–å’Œæ³¨å†Œ
4. æ·»åŠ ç›¸åº”çš„UIå…ƒç´ å’Œäº‹ä»¶å¤„ç†

### æ·»åŠ æ–°çš„å·¥å…·ç±»

1. åœ¨ `src/utils/` ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ–‡ä»¶
2. å¯¼å‡ºç›¸åº”çš„ç±»æˆ–å‡½æ•°
3. åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ä½¿ç”¨

### ä¿®æ”¹æ•°æ®ç»“æ„

1. æ›´æ–° `storage-util.js` ä¸­çš„é»˜è®¤æ•°æ®ç»“æ„
2. æ·»åŠ æ•°æ®è¿ç§»é€»è¾‘
3. æ›´æ–°ç›¸å…³ç®¡ç†å™¨çš„æ•°æ®å¤„ç†é€»è¾‘

## ğŸš€ å¼€å‘å»ºè®®

1. **ä¿æŒæ¨¡å—ç‹¬ç«‹**: æ¯ä¸ªç®¡ç†å™¨åº”è¯¥å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’Œä½¿ç”¨
2. **ç»Ÿä¸€é”™è¯¯å¤„ç†**: ä½¿ç”¨ `ui-manager.js` çš„é€šçŸ¥ç³»ç»Ÿæ˜¾ç¤ºé”™è¯¯
3. **å¼‚æ­¥æ“ä½œ**: ä½¿ç”¨ async/await å¤„ç†å¼‚æ­¥æ“ä½œ
4. **æ•°æ®éªŒè¯**: åœ¨ä¿å­˜å’ŒåŠ è½½æ•°æ®æ—¶è¿›è¡ŒéªŒè¯
5. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨é˜²æŠ–å’ŒèŠ‚æµä¼˜åŒ–é¢‘ç¹æ“ä½œ

## ğŸ”§ è°ƒè¯•

- å…¨å±€å¯¹è±¡ `window.WebSightApp` æä¾›å¯¹åº”ç”¨å®ä¾‹çš„è®¿é—®
- æ¯ä¸ªç®¡ç†å™¨éƒ½æœ‰è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹ç½‘ç»œè¯·æ±‚å’Œæ§åˆ¶å°æ—¥å¿—